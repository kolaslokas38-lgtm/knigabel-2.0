{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kolas\\\\Desktop\\\\knigabel\\\\client\\\\src\\\\components\\\\BookCard\\\\BookCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { UserContext } from '../../context/UserContext';\nimport { FiHeart, FiBookOpen, FiStar, FiShare2, FiMessageSquare } from 'react-icons/fi';\nimport { FaHeart } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Card = styled(motion.div)`\n  background: ${props => props.theme.card};\n  border-radius: 12px;\n  padding: 1.25rem;\n  box-shadow: ${props => props.theme.cardShadow};\n  border: 1px solid ${props => props.theme.border};\n  cursor: pointer;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    border-color: ${props => props.theme.primary};\n  }\n`;\n_c = Card;\nconst BookHeader = styled.div`\n  display: flex;\n  gap: 1rem;\n  margin-bottom: 1rem;\n`;\n_c2 = BookHeader;\nconst BookCover = styled.div`\n  flex-shrink: 0;\n`;\n_c3 = BookCover;\nconst BookIcon = styled.div`\n  width: 70px;\n  height: 90px;\n  background: ${props => props.theme.backgroundSecondary};\n  border: 1px solid ${props => props.theme.border};\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2rem;\n  color: ${props => props.theme.primary};\n  transition: all 0.3s ease;\n\n  ${Card}:hover & {\n    background: ${props => props.theme.accent};\n    transform: scale(1.05);\n  }\n`;\n_c4 = BookIcon;\nconst BookInfo = styled.div`\n  flex: 1;\n`;\n_c5 = BookInfo;\nconst BookTitle = styled.h3`\n  font-size: 1.2rem;\n  font-weight: 600;\n  margin-bottom: 0.5rem;\n  color: ${props => props.theme.text};\n  line-height: 1.3;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n`;\n_c6 = BookTitle;\nconst BookAuthor = styled.p`\n  color: ${props => props.theme.secondary};\n  font-weight: 500;\n  margin-bottom: 0.5rem;\n  font-size: 0.95rem;\n`;\n_c7 = BookAuthor;\nconst BookMeta = styled.div`\n  display: flex;\n  gap: 0.75rem;\n  margin-bottom: 0.75rem;\n  flex-wrap: wrap;\n`;\n_c8 = BookMeta;\nconst MetaItem = styled.span`\n  font-size: 0.8rem;\n  color: ${props => props.theme.textLight};\n  background: ${props => props.theme.backgroundSecondary};\n  padding: 0.25rem 0.5rem;\n  border-radius: 0.75rem;\n  border: 1px solid ${props => props.theme.border};\n`;\n_c9 = MetaItem;\nconst BookRating = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n`;\n_c0 = BookRating;\nconst Stars = styled.div`\n  display: flex;\n  gap: 0.25rem;\n`;\n_c1 = Stars;\nconst Star = styled(FiStar)`\n  font-size: 0.9rem;\n  color: ${props => props.filled ? '#FFD700' : props.theme.textLight};\n`;\n_c10 = Star;\nconst RatingValue = styled.span`\n  font-weight: 600;\n  color: ${props => props.theme.accent};\n  font-size: 0.9rem;\n`;\n_c11 = RatingValue;\nconst ReviewsCount = styled.span`\n  font-size: 0.8rem;\n  color: ${props => props.theme.textLight};\n`;\n_c12 = ReviewsCount;\nconst BookActions = styled.div`\n  display: flex;\n  gap: 0.75rem;\n  margin-top: 1rem;\n`;\n_c13 = BookActions;\nconst SocialActions = styled.div`\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 0.75rem;\n  padding-top: 0.75rem;\n  border-top: 1px solid ${props => props.theme.border};\n`;\n_c14 = SocialActions;\nconst SocialButton = styled(motion.button)`\n  flex: 1;\n  padding: 0.5rem;\n  border: 1px solid ${props => props.theme.border};\n  border-radius: 4px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.3rem;\n  background: ${props => props.theme.backgroundSecondary};\n  color: ${props => props.theme.text};\n\n  &:hover {\n    background: ${props => props.theme.accent};\n    transform: translateY(-1px);\n  }\n`;\n_c15 = SocialButton;\nconst ActionButton = styled(motion.button)`\n  flex: 1;\n  padding: 0.6rem 0.8rem;\n  border: 1px solid ${props => props.theme.border};\n  border-radius: 6px;\n  font-size: 0.85rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.4rem;\n\n  ${props => props.primary ? `\n    background: ${props.theme.primary};\n    color: white;\n    border-color: ${props.theme.primary};\n\n    &:hover:not(:disabled) {\n      background: ${props.theme.primaryDark};\n      transform: translateY(-1px);\n    }\n  ` : `\n    background: ${props.theme.backgroundSecondary};\n    color: ${props.theme.text};\n\n    &:hover {\n      background: ${props.theme.accent};\n      transform: translateY(-1px);\n    }\n  `}\n\n  &:disabled {\n    background: ${props => props.theme.backgroundSecondary};\n    color: ${props => props.theme.textLight};\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n_c16 = ActionButton;\nconst FavoriteButton = styled(motion.button)`\n  position: absolute;\n  top: 0.75rem;\n  right: 0.75rem;\n  width: 32px;\n  height: 32px;\n  border-radius: 6px;\n  border: none;\n  background: ${props => props.theme.backgroundSecondary};\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${props => props.isFavorite ? '#E53E3E' : props.theme.textLight};\n  transition: all 0.3s ease;\n  border: 1px solid ${props => props.theme.border};\n\n  &:hover {\n    background: ${props => props.theme.accent};\n    transform: scale(1.05);\n  }\n`;\n_c17 = FavoriteButton;\nconst StatusBadge = styled.div`\n  position: absolute;\n  top: 0.5rem;\n  left: 0.5rem;\n  padding: 0.2rem 0.6rem;\n  border-radius: 6px;\n  font-size: 0.7rem;\n  font-weight: 500;\n  text-transform: uppercase;\n  letter-spacing: 0.3px;\n\n  ${props => props.available ? `\n    background: #F0FFF4;\n    color: #22543D;\n    border: 1px solid #C6F6D5;\n  ` : `\n    background: #FFF5F5;\n    color: #742A2A;\n    border: 1px solid #FEB2B2;\n  `}\n`;\n_c18 = StatusBadge;\nconst BookCard = ({\n  book\n}) => {\n  _s();\n  var _user$favorites;\n  const navigate = useNavigate();\n  const {\n    user,\n    updateUser\n  } = useContext(UserContext);\n  const [isBorrowing, setIsBorrowing] = useState(false);\n  const [isFavorite, setIsFavorite] = useState((user === null || user === void 0 ? void 0 : (_user$favorites = user.favorites) === null || _user$favorites === void 0 ? void 0 : _user$favorites.includes(book.id)) || false);\n  const handleCardClick = () => {\n    navigate(`/book/${book.id}`);\n  };\n  const handleBorrow = async e => {\n    e.stopPropagation();\n    if (!user) {\n      toast.error('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É');\n      return;\n    }\n    setIsBorrowing(true);\n    try {\n      const response = await apiService.borrowBook(book.id);\n      toast.success(response.data.message);\n\n      // Update user data\n      const updatedUser = {\n        ...user,\n        borrowedBooks: [...(user.borrowedBooks || []), book.id]\n      };\n      updateUser(updatedUser);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || '–û—à–∏–±–∫–∞ –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏');\n    } finally {\n      setIsBorrowing(false);\n    }\n  };\n  const handleFavorite = e => {\n    e.stopPropagation();\n    if (!user) {\n      toast.error('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É');\n      return;\n    }\n    const newFavorites = isFavorite ? (user.favorites || []).filter(id => id !== book.id) : [...(user.favorites || []), book.id];\n    const updatedUser = {\n      ...user,\n      favorites: newFavorites\n    };\n    updateUser(updatedUser);\n    setIsFavorite(!isFavorite);\n    toast.success(isFavorite ? '–£–¥–∞–ª–µ–Ω–æ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ' : '–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ');\n  };\n  const handleShare = async e => {\n    e.stopPropagation();\n    const shareData = {\n      title: book.title,\n      text: `–ü–æ—Å–º–æ—Ç—Ä–∏ —ç—Ç—É –∫–Ω–∏–≥—É: \"${book.title}\" –∞–≤—Ç–æ—Ä–∞ ${book.author}`,\n      url: `${window.location.origin}/book/${book.id}`\n    };\n    if (navigator.share) {\n      try {\n        await navigator.share(shareData);\n        toast.success('–°—Å—ã–ª–∫–∞ –ø–æ–¥–µ–ª–µ–Ω–∞!');\n      } catch (error) {\n        if (error.name !== 'AbortError') {\n          fallbackShare();\n        }\n      }\n    } else {\n      fallbackShare();\n    }\n    function fallbackShare() {\n      navigator.clipboard.writeText(shareData.url);\n      toast.success('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');\n    }\n  };\n  const handleComments = e => {\n    e.stopPropagation();\n    navigate(`/book/${book.id}#reviews`);\n    toast.success('–ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ—Ç–∑—ã–≤–∞–º...');\n  };\n  const renderStars = rating => {\n    const stars = [];\n    const fullStars = Math.floor(rating);\n    const hasHalfStar = rating % 1 !== 0;\n    for (let i = 0; i < 5; i++) {\n      if (i < fullStars) {\n        stars.push(/*#__PURE__*/_jsxDEV(Star, {\n          filled: true\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 20\n        }, this));\n      } else if (i === fullStars && hasHalfStar) {\n        stars.push(/*#__PURE__*/_jsxDEV(Star, {\n          filled: true\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 20\n        }, this));\n      } else {\n        stars.push(/*#__PURE__*/_jsxDEV(Star, {}, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 20\n        }, this));\n      }\n    }\n    return stars;\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    onClick: handleCardClick,\n    whileHover: {\n      y: -8\n    },\n    transition: {\n      type: \"spring\",\n      stiffness: 300,\n      damping: 20\n    },\n    children: [/*#__PURE__*/_jsxDEV(StatusBadge, {\n      available: book.available,\n      children: book.available ? '–î–æ—Å—Ç—É–ø–Ω–æ' : '–ó–∞–Ω—è—Ç–æ'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FavoriteButton, {\n      isFavorite: isFavorite,\n      onClick: handleFavorite,\n      whileHover: {\n        scale: 1.1\n      },\n      whileTap: {\n        scale: 0.9\n      },\n      children: isFavorite ? /*#__PURE__*/_jsxDEV(FaHeart, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 23\n      }, this) : /*#__PURE__*/_jsxDEV(FiHeart, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BookHeader, {\n      children: [/*#__PURE__*/_jsxDEV(BookCover, {\n        children: /*#__PURE__*/_jsxDEV(BookIcon, {\n          children: book.icon || 'üìñ'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BookInfo, {\n        children: [/*#__PURE__*/_jsxDEV(BookTitle, {\n          children: book.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BookAuthor, {\n          children: book.author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BookMeta, {\n          children: [/*#__PURE__*/_jsxDEV(MetaItem, {\n            children: book.year\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MetaItem, {\n            children: book.genre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MetaItem, {\n            children: [book.pages, \" \\u0441\\u0442\\u0440.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BookRating, {\n          children: [/*#__PURE__*/_jsxDEV(Stars, {\n            children: renderStars(book.rating || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RatingValue, {\n            children: book.rating || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ReviewsCount, {\n            children: [\"(\", book.reviewsCount || 0, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BookActions, {\n      children: /*#__PURE__*/_jsxDEV(ActionButton, {\n        primary: true,\n        onClick: handleBorrow,\n        disabled: !book.available || isBorrowing,\n        whileHover: {\n          scale: 1.02\n        },\n        whileTap: {\n          scale: 0.98\n        },\n        children: [/*#__PURE__*/_jsxDEV(FiBookOpen, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this), isBorrowing ? '–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–ß–∏—Ç–∞—Ç—å']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SocialActions, {\n      children: [/*#__PURE__*/_jsxDEV(SocialButton, {\n        onClick: handleShare,\n        whileHover: {\n          scale: 1.05\n        },\n        whileTap: {\n          scale: 0.95\n        },\n        children: [/*#__PURE__*/_jsxDEV(FiShare2, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), \"\\u041F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\\u0441\\u044F\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SocialButton, {\n        onClick: handleComments,\n        whileHover: {\n          scale: 1.05\n        },\n        whileTap: {\n          scale: 0.95\n        },\n        children: [/*#__PURE__*/_jsxDEV(FiMessageSquare, {\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 11\n        }, this), \"\\u041E\\u0442\\u0437\\u044B\\u0432\\u044B (\", book.reviewsCount || 0, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 360,\n    columnNumber: 5\n  }, this);\n};\n_s(BookCard, \"V7O5wjY4Mo/w4legViYpNluo0nw=\", false, function () {\n  return [useNavigate];\n});\n_c19 = BookCard;\nexport default BookCard;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19;\n$RefreshReg$(_c, \"Card\");\n$RefreshReg$(_c2, \"BookHeader\");\n$RefreshReg$(_c3, \"BookCover\");\n$RefreshReg$(_c4, \"BookIcon\");\n$RefreshReg$(_c5, \"BookInfo\");\n$RefreshReg$(_c6, \"BookTitle\");\n$RefreshReg$(_c7, \"BookAuthor\");\n$RefreshReg$(_c8, \"BookMeta\");\n$RefreshReg$(_c9, \"MetaItem\");\n$RefreshReg$(_c0, \"BookRating\");\n$RefreshReg$(_c1, \"Stars\");\n$RefreshReg$(_c10, \"Star\");\n$RefreshReg$(_c11, \"RatingValue\");\n$RefreshReg$(_c12, \"ReviewsCount\");\n$RefreshReg$(_c13, \"BookActions\");\n$RefreshReg$(_c14, \"SocialActions\");\n$RefreshReg$(_c15, \"SocialButton\");\n$RefreshReg$(_c16, \"ActionButton\");\n$RefreshReg$(_c17, \"FavoriteButton\");\n$RefreshReg$(_c18, \"StatusBadge\");\n$RefreshReg$(_c19, \"BookCard\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","styled","motion","UserContext","FiHeart","FiBookOpen","FiStar","FiShare2","FiMessageSquare","FaHeart","jsxDEV","_jsxDEV","Card","div","props","theme","card","cardShadow","border","primary","_c","BookHeader","_c2","BookCover","_c3","BookIcon","backgroundSecondary","accent","_c4","BookInfo","_c5","BookTitle","h3","text","_c6","BookAuthor","p","secondary","_c7","BookMeta","_c8","MetaItem","span","textLight","_c9","BookRating","_c0","Stars","_c1","Star","filled","_c10","RatingValue","_c11","ReviewsCount","_c12","BookActions","_c13","SocialActions","_c14","SocialButton","button","_c15","ActionButton","primaryDark","_c16","FavoriteButton","isFavorite","_c17","StatusBadge","available","_c18","BookCard","book","_s","_user$favorites","navigate","user","updateUser","isBorrowing","setIsBorrowing","setIsFavorite","favorites","includes","id","handleCardClick","handleBorrow","e","stopPropagation","toast","error","response","apiService","borrowBook","success","data","message","updatedUser","borrowedBooks","_error$response","_error$response$data","handleFavorite","newFavorites","filter","handleShare","shareData","title","author","url","window","location","origin","navigator","share","name","fallbackShare","clipboard","writeText","handleComments","renderStars","rating","stars","fullStars","Math","floor","hasHalfStar","i","push","fileName","_jsxFileName","lineNumber","columnNumber","onClick","whileHover","y","transition","type","stiffness","damping","children","scale","whileTap","icon","year","genre","pages","reviewsCount","disabled","size","_c19","$RefreshReg$"],"sources":["C:/Users/kolas/Desktop/knigabel/client/src/components/BookCard/BookCard.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { motion } from 'framer-motion';\r\nimport { UserContext } from '../../context/UserContext';\r\nimport { FiHeart, FiBookOpen, FiStar, FiShare2, FiMessageSquare } from 'react-icons/fi';\r\nimport { FaHeart } from 'react-icons/fa';\r\n\r\nconst Card = styled(motion.div)`\r\n  background: ${props => props.theme.card};\r\n  border-radius: 12px;\r\n  padding: 1.25rem;\r\n  box-shadow: ${props => props.theme.cardShadow};\r\n  border: 1px solid ${props => props.theme.border};\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n    border-color: ${props => props.theme.primary};\r\n  }\r\n`;\r\n\r\nconst BookHeader = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst BookCover = styled.div`\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst BookIcon = styled.div`\r\n  width: 70px;\r\n  height: 90px;\r\n  background: ${props => props.theme.backgroundSecondary};\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-radius: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 2rem;\r\n  color: ${props => props.theme.primary};\r\n  transition: all 0.3s ease;\r\n\r\n  ${Card}:hover & {\r\n    background: ${props => props.theme.accent};\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst BookInfo = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst BookTitle = styled.h3`\r\n  font-size: 1.2rem;\r\n  font-weight: 600;\r\n  margin-bottom: 0.5rem;\r\n  color: ${props => props.theme.text};\r\n  line-height: 1.3;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst BookAuthor = styled.p`\r\n  color: ${props => props.theme.secondary};\r\n  font-weight: 500;\r\n  margin-bottom: 0.5rem;\r\n  font-size: 0.95rem;\r\n`;\r\n\r\nconst BookMeta = styled.div`\r\n  display: flex;\r\n  gap: 0.75rem;\r\n  margin-bottom: 0.75rem;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst MetaItem = styled.span`\r\n  font-size: 0.8rem;\r\n  color: ${props => props.theme.textLight};\r\n  background: ${props => props.theme.backgroundSecondary};\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 0.75rem;\r\n  border: 1px solid ${props => props.theme.border};\r\n`;\r\n\r\nconst BookRating = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst Stars = styled.div`\r\n  display: flex;\r\n  gap: 0.25rem;\r\n`;\r\n\r\nconst Star = styled(FiStar)`\r\n  font-size: 0.9rem;\r\n  color: ${props => props.filled ? '#FFD700' : props.theme.textLight};\r\n`;\r\n\r\nconst RatingValue = styled.span`\r\n  font-weight: 600;\r\n  color: ${props => props.theme.accent};\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nconst ReviewsCount = styled.span`\r\n  font-size: 0.8rem;\r\n  color: ${props => props.theme.textLight};\r\n`;\r\n\r\nconst BookActions = styled.div`\r\n  display: flex;\r\n  gap: 0.75rem;\r\n  margin-top: 1rem;\r\n`;\r\n\r\nconst SocialActions = styled.div`\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  margin-top: 0.75rem;\r\n  padding-top: 0.75rem;\r\n  border-top: 1px solid ${props => props.theme.border};\r\n`;\r\n\r\nconst SocialButton = styled(motion.button)`\r\n  flex: 1;\r\n  padding: 0.5rem;\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-radius: 4px;\r\n  font-size: 0.75rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.3rem;\r\n  background: ${props => props.theme.backgroundSecondary};\r\n  color: ${props => props.theme.text};\r\n\r\n  &:hover {\r\n    background: ${props => props.theme.accent};\r\n    transform: translateY(-1px);\r\n  }\r\n`;\r\n\r\nconst ActionButton = styled(motion.button)`\r\n  flex: 1;\r\n  padding: 0.6rem 0.8rem;\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-radius: 6px;\r\n  font-size: 0.85rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 0.4rem;\r\n\r\n  ${props => props.primary ? `\r\n    background: ${props.theme.primary};\r\n    color: white;\r\n    border-color: ${props.theme.primary};\r\n\r\n    &:hover:not(:disabled) {\r\n      background: ${props.theme.primaryDark};\r\n      transform: translateY(-1px);\r\n    }\r\n  ` : `\r\n    background: ${props.theme.backgroundSecondary};\r\n    color: ${props.theme.text};\r\n\r\n    &:hover {\r\n      background: ${props.theme.accent};\r\n      transform: translateY(-1px);\r\n    }\r\n  `}\r\n\r\n  &:disabled {\r\n    background: ${props => props.theme.backgroundSecondary};\r\n    color: ${props => props.theme.textLight};\r\n    cursor: not-allowed;\r\n    transform: none;\r\n  }\r\n`;\r\n\r\nconst FavoriteButton = styled(motion.button)`\r\n  position: absolute;\r\n  top: 0.75rem;\r\n  right: 0.75rem;\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 6px;\r\n  border: none;\r\n  background: ${props => props.theme.backgroundSecondary};\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: ${props => props.isFavorite ? '#E53E3E' : props.theme.textLight};\r\n  transition: all 0.3s ease;\r\n  border: 1px solid ${props => props.theme.border};\r\n\r\n  &:hover {\r\n    background: ${props => props.theme.accent};\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst StatusBadge = styled.div`\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  left: 0.5rem;\r\n  padding: 0.2rem 0.6rem;\r\n  border-radius: 6px;\r\n  font-size: 0.7rem;\r\n  font-weight: 500;\r\n  text-transform: uppercase;\r\n  letter-spacing: 0.3px;\r\n\r\n  ${props => props.available ? `\r\n    background: #F0FFF4;\r\n    color: #22543D;\r\n    border: 1px solid #C6F6D5;\r\n  ` : `\r\n    background: #FFF5F5;\r\n    color: #742A2A;\r\n    border: 1px solid #FEB2B2;\r\n  `}\r\n`;\r\n\r\nconst BookCard = ({ book }) => {\r\n  const navigate = useNavigate();\r\n  const { user, updateUser } = useContext(UserContext);\r\n  const [isBorrowing, setIsBorrowing] = useState(false);\r\n  const [isFavorite, setIsFavorite] = useState(\r\n    user?.favorites?.includes(book.id) || false\r\n  );\r\n\r\n  const handleCardClick = () => {\r\n    navigate(`/book/${book.id}`);\r\n  };\r\n\r\n  const handleBorrow = async (e) => {\r\n    e.stopPropagation();\r\n\r\n    if (!user) {\r\n      toast.error('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É');\r\n      return;\r\n    }\r\n\r\n    setIsBorrowing(true);\r\n    try {\r\n      const response = await apiService.borrowBook(book.id);\r\n      toast.success(response.data.message);\r\n\r\n      // Update user data\r\n      const updatedUser = {\r\n        ...user,\r\n        borrowedBooks: [...(user.borrowedBooks || []), book.id]\r\n      };\r\n      updateUser(updatedUser);\r\n\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.error || '–û—à–∏–±–∫–∞ –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏');\r\n    } finally {\r\n      setIsBorrowing(false);\r\n    }\r\n  };\r\n\r\n  const handleFavorite = (e) => {\r\n    e.stopPropagation();\r\n\r\n    if (!user) {\r\n      toast.error('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É');\r\n      return;\r\n    }\r\n\r\n    const newFavorites = isFavorite\r\n      ? (user.favorites || []).filter(id => id !== book.id)\r\n      : [...(user.favorites || []), book.id];\r\n\r\n    const updatedUser = {\r\n      ...user,\r\n      favorites: newFavorites\r\n    };\r\n\r\n    updateUser(updatedUser);\r\n    setIsFavorite(!isFavorite);\r\n\r\n    toast.success(isFavorite ? '–£–¥–∞–ª–µ–Ω–æ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ' : '–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ');\r\n  };\r\n\r\n  const handleShare = async (e) => {\r\n    e.stopPropagation();\r\n\r\n    const shareData = {\r\n      title: book.title,\r\n      text: `–ü–æ—Å–º–æ—Ç—Ä–∏ —ç—Ç—É –∫–Ω–∏–≥—É: \"${book.title}\" –∞–≤—Ç–æ—Ä–∞ ${book.author}`,\r\n      url: `${window.location.origin}/book/${book.id}`\r\n    };\r\n\r\n    if (navigator.share) {\r\n      try {\r\n        await navigator.share(shareData);\r\n        toast.success('–°—Å—ã–ª–∫–∞ –ø–æ–¥–µ–ª–µ–Ω–∞!');\r\n      } catch (error) {\r\n        if (error.name !== 'AbortError') {\r\n          fallbackShare();\r\n        }\r\n      }\r\n    } else {\r\n      fallbackShare();\r\n    }\r\n\r\n    function fallbackShare() {\r\n      navigator.clipboard.writeText(shareData.url);\r\n      toast.success('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');\r\n    }\r\n  };\r\n\r\n  const handleComments = (e) => {\r\n    e.stopPropagation();\r\n    navigate(`/book/${book.id}#reviews`);\r\n    toast.success('–ü–µ—Ä–µ—Ö–æ–¥ –∫ –æ—Ç–∑—ã–≤–∞–º...');\r\n  };\r\n\r\n  const renderStars = (rating) => {\r\n    const stars = [];\r\n    const fullStars = Math.floor(rating);\r\n    const hasHalfStar = rating % 1 !== 0;\r\n\r\n    for (let i = 0; i < 5; i++) {\r\n      if (i < fullStars) {\r\n        stars.push(<Star key={i} filled />);\r\n      } else if (i === fullStars && hasHalfStar) {\r\n        stars.push(<Star key={i} filled />);\r\n      } else {\r\n        stars.push(<Star key={i} />);\r\n      }\r\n    }\r\n\r\n    return stars;\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      onClick={handleCardClick}\r\n      whileHover={{ y: -8 }}\r\n      transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\r\n    >\r\n      <StatusBadge available={book.available}>\r\n        {book.available ? '–î–æ—Å—Ç—É–ø–Ω–æ' : '–ó–∞–Ω—è—Ç–æ'}\r\n      </StatusBadge>\r\n\r\n      <FavoriteButton\r\n        isFavorite={isFavorite}\r\n        onClick={handleFavorite}\r\n        whileHover={{ scale: 1.1 }}\r\n        whileTap={{ scale: 0.9 }}\r\n      >\r\n        {isFavorite ? <FaHeart /> : <FiHeart />}\r\n      </FavoriteButton>\r\n\r\n      <BookHeader>\r\n        <BookCover>\r\n          <BookIcon>\r\n            {book.icon || 'üìñ'}\r\n          </BookIcon>\r\n        </BookCover>\r\n\r\n        <BookInfo>\r\n          <BookTitle>{book.title}</BookTitle>\r\n          <BookAuthor>{book.author}</BookAuthor>\r\n\r\n          <BookMeta>\r\n            <MetaItem>{book.year}</MetaItem>\r\n            <MetaItem>{book.genre}</MetaItem>\r\n            <MetaItem>{book.pages} —Å—Ç—Ä.</MetaItem>\r\n          </BookMeta>\r\n\r\n          <BookRating>\r\n            <Stars>\r\n              {renderStars(book.rating || 0)}\r\n            </Stars>\r\n            <RatingValue>{book.rating || 0}</RatingValue>\r\n            <ReviewsCount>({book.reviewsCount || 0})</ReviewsCount>\r\n          </BookRating>\r\n        </BookInfo>\r\n      </BookHeader>\r\n\r\n      <BookActions>\r\n        <ActionButton\r\n          primary\r\n          onClick={handleBorrow}\r\n          disabled={!book.available || isBorrowing}\r\n          whileHover={{ scale: 1.02 }}\r\n          whileTap={{ scale: 0.98 }}\r\n        >\r\n          <FiBookOpen />\r\n          {isBorrowing ? '–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ...' : '–ß–∏—Ç–∞—Ç—å'}\r\n        </ActionButton>\r\n      </BookActions>\r\n\r\n      <SocialActions>\r\n        <SocialButton\r\n          onClick={handleShare}\r\n          whileHover={{ scale: 1.05 }}\r\n          whileTap={{ scale: 0.95 }}\r\n        >\r\n          <FiShare2 size={14} />\r\n          –ü–æ–¥–µ–ª–∏—Ç—å—Å—è\r\n        </SocialButton>\r\n        <SocialButton\r\n          onClick={handleComments}\r\n          whileHover={{ scale: 1.05 }}\r\n          whileTap={{ scale: 0.95 }}\r\n        >\r\n          <FiMessageSquare size={14} />\r\n          –û—Ç–∑—ã–≤—ã ({book.reviewsCount || 0})\r\n        </SocialButton>\r\n      </SocialActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default BookCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}