{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kolas\\\\Desktop\\\\knigabel\\\\client\\\\src\\\\pages\\\\Reviews\\\\Reviews.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport styled from 'styled-components';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { UserContext } from '../../context/UserContext';\nimport { LibraryContext } from '../../context/LibraryContext';\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\nimport { FiStar, FiThumbsUp, FiMessageSquare, FiFilter } from 'react-icons/fi';\nimport { FaStar, FaThumbsUp } from 'react-icons/fa';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 2rem;\n`;\n_c = Container;\nconst Header = styled.div`\n  text-align: center;\n  margin-bottom: 3rem;\n`;\n_c2 = Header;\nconst Title = styled.h1`\n  color: ${props => props.theme.text};\n  font-size: 2.5rem;\n  margin-bottom: 1rem;\n`;\n_c3 = Title;\nconst Subtitle = styled.p`\n  color: ${props => props.theme.textLight};\n  font-size: 1.2rem;\n  max-width: 600px;\n  margin: 0 auto;\n`;\n_c4 = Subtitle;\nconst FiltersContainer = styled.div`\n  display: flex;\n  gap: 1rem;\n  margin-bottom: 2rem;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n`;\n_c5 = FiltersContainer;\nconst FilterSelect = styled.select`\n  padding: 0.75rem 1rem;\n  border: 1px solid ${props => props.theme.border};\n  border-radius: 8px;\n  background: ${props => props.theme.card};\n  color: ${props => props.theme.text};\n  font-size: 0.9rem;\n  cursor: pointer;\n\n  &:focus {\n    outline: none;\n    border-color: ${props => props.theme.primary};\n  }\n`;\n_c6 = FilterSelect;\nconst ReviewsGrid = styled.div`\n  display: grid;\n  gap: 2rem;\n`;\n_c7 = ReviewsGrid;\nconst ReviewCard = styled(motion.div)`\n  background: ${props => props.theme.card};\n  border-radius: 12px;\n  padding: 1.5rem;\n  box-shadow: ${props => props.theme.cardShadow};\n  border: 1px solid ${props => props.theme.border};\n`;\n_c8 = ReviewCard;\nconst ReviewHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 1rem;\n`;\n_c9 = ReviewHeader;\nconst UserInfo = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n`;\n_c0 = UserInfo;\nconst UserAvatar = styled.div`\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  background: ${props => props.theme.primary};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-weight: 600;\n`;\n_c1 = UserAvatar;\nconst UserDetails = styled.div``;\n_c10 = UserDetails;\nconst UserName = styled.div`\n  font-weight: 600;\n  color: ${props => props.theme.text};\n  margin-bottom: 0.25rem;\n`;\n_c11 = UserName;\nconst ReviewDate = styled.div`\n  font-size: 0.8rem;\n  color: ${props => props.theme.textLight};\n`;\n_c12 = ReviewDate;\nconst BookInfo = styled.div`\n  text-align: right;\n`;\n_c13 = BookInfo;\nconst BookTitle = styled.div`\n  font-weight: 600;\n  color: ${props => props.theme.primary};\n  margin-bottom: 0.25rem;\n`;\n_c14 = BookTitle;\nconst BookAuthor = styled.div`\n  font-size: 0.9rem;\n  color: ${props => props.theme.textLight};\n`;\n_c15 = BookAuthor;\nconst RatingContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n`;\n_c16 = RatingContainer;\nconst Stars = styled.div`\n  display: flex;\n  gap: 0.25rem;\n`;\n_c17 = Stars;\nconst Star = styled(FiStar)`\n  font-size: 1rem;\n  color: ${props => props.filled ? '#FFD700' : props.theme.textLight};\n`;\n_c18 = Star;\nconst RatingValue = styled.span`\n  font-weight: 600;\n  color: ${props => props.theme.accent};\n`;\n_c19 = RatingValue;\nconst ReviewText = styled.p`\n  color: ${props => props.theme.text};\n  line-height: 1.6;\n  margin-bottom: 1rem;\n`;\n_c20 = ReviewText;\nconst ReviewActions = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n_c21 = ReviewActions;\nconst LikeButton = styled(motion.button)`\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.5rem 1rem;\n  border: 1px solid ${props => props.theme.border};\n  border-radius: 6px;\n  background: ${props => props.theme.backgroundSecondary};\n  color: ${props => props.theme.text};\n  cursor: pointer;\n  transition: all 0.3s ease;\n  font-size: 0.9rem;\n\n  &:hover {\n    background: ${props => props.theme.accent};\n    transform: translateY(-1px);\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n_c22 = LikeButton;\nconst LikeCount = styled.span`\n  font-weight: 500;\n`;\n_c23 = LikeCount;\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 4rem 2rem;\n  color: ${props => props.theme.textLight};\n`;\n_c24 = EmptyState;\nconst EmptyIcon = styled.div`\n  font-size: 4rem;\n  margin-bottom: 1rem;\n  opacity: 0.5;\n`;\n_c25 = EmptyIcon;\nconst EmptyTitle = styled.h3`\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n  color: ${props => props.theme.text};\n`;\n_c26 = EmptyTitle;\nconst EmptyText = styled.p`\n  font-size: 1.1rem;\n`;\n_c27 = EmptyText;\nconst Reviews = () => {\n  _s();\n  const {\n    user\n  } = useContext(UserContext);\n  const {\n    libraryData\n  } = useContext(LibraryContext);\n  const [reviews, setReviews] = useState([]);\n  const [filteredReviews, setFilteredReviews] = useState([]);\n  const [sortBy, setSortBy] = useState('newest');\n  const [filterByBook, setFilterByBook] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Mock reviews data - in real app this would come from API\n  const mockReviews = [{\n    id: 1,\n    userId: 'user1',\n    userName: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞',\n    userAvatar: 'üë©‚Äçüéì',\n    bookId: 1,\n    bookTitle: '–í–æ–π–Ω–∞ –∏ –º–∏—Ä',\n    bookAuthor: '–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π',\n    rating: 5,\n    comment: '–ü–æ—Ç—Ä—è—Å–∞—é—â–µ–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ! –¢–æ–ª—Å—Ç–æ–π –º–∞—Å—Ç–µ—Ä—Å–∫–∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —ç–ø–æ—Ö—É –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∫ –ø—Ä–æ—á—Ç–µ–Ω–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞.',\n    date: '2024-12-01',\n    likes: 12\n  }, {\n    id: 2,\n    userId: 'user2',\n    userName: '–ú–∏—Ö–∞–∏–ª –°–∏–¥–æ—Ä–æ–≤',\n    userAvatar: 'üë®‚Äçüíº',\n    bookId: 2,\n    bookTitle: '–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ',\n    bookAuthor: '–§–µ–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π',\n    rating: 4,\n    comment: '–û—á–µ–Ω—å –≥–ª—É–±–æ–∫–∏–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ä–æ–º–∞–Ω. –†–∞—Å–∫–æ–ª—å–Ω–∏–∫–æ–≤ - —Å–ª–æ–∂–Ω—ã–π –∏ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂. –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–¥—É–º–∞—Ç—å—Å—è –æ –º–Ω–æ–≥–∏—Ö —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö.',\n    date: '2024-11-28',\n    likes: 8\n  }, {\n    id: 3,\n    userId: 'user3',\n    userName: '–ï–ª–µ–Ω–∞ –ö–æ–∑–ª–æ–≤–∞',\n    userAvatar: 'üë©‚Äçüé®',\n    bookId: 3,\n    bookTitle: '–ú–∞—Å—Ç–µ—Ä –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞',\n    userAvatar: 'üë©‚Äçüé®',\n    rating: 5,\n    comment: '–õ—é–±–∏–º–∞—è –∫–Ω–∏–≥–∞! –í–æ–ª–∞–Ω–¥, –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞, –ú–∞—Å—Ç–µ—Ä - –≤—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã. –ë—É–ª–≥–∞–∫–æ–≤ —Å–æ–∑–¥–∞–ª –Ω–∞—Å—Ç–æ—è—â–∏–π —à–µ–¥–µ–≤—Ä —Å–∞—Ç–∏—Ä—ã –∏ —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∏.',\n    date: '2024-11-25',\n    likes: 15\n  }, {\n    id: 4,\n    userId: 'user4',\n    userName: '–î–º–∏—Ç—Ä–∏–π –ò–≤–∞–Ω–æ–≤',\n    userAvatar: 'üë®‚Äçüéì',\n    bookId: 4,\n    bookTitle: '–ê–Ω–Ω–∞ –ö–∞—Ä–µ–Ω–∏–Ω–∞',\n    bookAuthor: '–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π',\n    rating: 4,\n    comment: '–ò—Å—Ç–æ—Ä–∏—è –ª—é–±–≤–∏ –∏ —Ç—Ä–∞–≥–µ–¥–∏–∏. –ê–Ω–Ω–∞ - —è—Ä–∫–∏–π –∏ —Ç—Ä–∞–≥–∏—á–µ—Å–∫–∏–π –ø–µ—Ä—Å–æ–Ω–∞–∂. –¢–æ–ª—Å—Ç–æ–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–æ—Ä–º—ã –º–æ–≥—É—Ç —Ä–∞–∑—Ä—É—à–∏—Ç—å –∂–∏–∑–Ω—å —á–µ–ª–æ–≤–µ–∫–∞.',\n    date: '2024-11-20',\n    likes: 6\n  }, {\n    id: 5,\n    userId: 'user5',\n    userName: '–û–ª—å–≥–∞ –°–º–∏—Ä–Ω–æ–≤–∞',\n    userAvatar: 'üë©‚Äçüíª',\n    bookId: 10,\n    bookTitle: '–ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä –∏ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π –∫–∞–º–µ–Ω—å',\n    bookAuthor: '–î–∂–æ–∞–Ω –†–æ—É–ª–∏–Ω–≥',\n    rating: 5,\n    comment: '–í–æ–ª—à–µ–±–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è! –î–∞–∂–µ –≤–∑—Ä–æ—Å–ª–æ–º—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —á–∏—Ç–∞—Ç—å. –î–∂–æ–∞–Ω –†–æ—É–ª–∏–Ω–≥ —Å–æ–∑–¥–∞–ª–∞ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–π –º–∏—Ä, –≤ –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—á–µ—Ç—Å—è –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞.',\n    date: '2024-11-18',\n    likes: 20\n  }];\n  useEffect(() => {\n    // Load reviews from localStorage or use mock data\n    const loadReviews = () => {\n      const storedReviews = localStorage.getItem('globalReviews');\n      if (storedReviews) {\n        try {\n          const parsedReviews = JSON.parse(storedReviews);\n          setReviews(parsedReviews);\n          setFilteredReviews(parsedReviews);\n        } catch (error) {\n          console.error('Error loading reviews:', error);\n          setReviews(mockReviews);\n          setFilteredReviews(mockReviews);\n        }\n      } else {\n        setReviews(mockReviews);\n        setFilteredReviews(mockReviews);\n        // Save mock reviews to localStorage\n        localStorage.setItem('globalReviews', JSON.stringify(mockReviews));\n      }\n      setIsLoading(false);\n    };\n    loadReviews();\n  }, []);\n  useEffect(() => {\n    let filtered = [...reviews];\n\n    // Filter by book\n    if (filterByBook) {\n      filtered = filtered.filter(review => review.bookId === parseInt(filterByBook));\n    }\n\n    // Sort reviews\n    switch (sortBy) {\n      case 'newest':\n        filtered.sort((a, b) => new Date(b.date) - new Date(a.date));\n        break;\n      case 'oldest':\n        filtered.sort((a, b) => new Date(a.date) - new Date(b.date));\n        break;\n      case 'rating-high':\n        filtered.sort((a, b) => b.rating - a.rating);\n        break;\n      case 'rating-low':\n        filtered.sort((a, b) => a.rating - b.rating);\n        break;\n      case 'most-liked':\n        filtered.sort((a, b) => b.likes - a.likes);\n        break;\n      default:\n        break;\n    }\n    setFilteredReviews(filtered);\n  }, [reviews, sortBy, filterByBook]);\n  const handleLike = reviewId => {\n    if (!user) {\n      toast.error('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É');\n      return;\n    }\n    const updatedReviews = reviews.map(review => {\n      if (review.id === reviewId) {\n        return {\n          ...review,\n          likes: review.likes + 1\n        };\n      }\n      return review;\n    });\n    setReviews(updatedReviews);\n    localStorage.setItem('globalReviews', JSON.stringify(updatedReviews));\n    toast.success('–õ–∞–π–∫ –¥–æ–±–∞–≤–ª–µ–Ω!');\n  };\n  const renderStars = rating => {\n    const stars = [];\n    for (let i = 1; i <= 5; i++) {\n      stars.push(/*#__PURE__*/_jsxDEV(Star, {\n        filled: i <= rating\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this));\n    }\n    return stars;\n  };\n  const getBookOptions = () => {\n    if (!(libraryData !== null && libraryData !== void 0 && libraryData.books)) return [];\n    return libraryData.books.map(book => /*#__PURE__*/_jsxDEV(\"option\", {\n      value: book.id,\n      children: [book.title, \" - \", book.author]\n    }, book.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 7\n    }, this));\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      text: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043E\\u0442\\u0437\\u044B\\u0432\\u043E\\u0432...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"\\uD83D\\uDCAC \\u041E\\u0442\\u0437\\u044B\\u0432\\u044B \\u0447\\u0438\\u0442\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Subtitle, {\n        children: \"\\u0427\\u0438\\u0442\\u0430\\u0439\\u0442\\u0435 \\u043C\\u043D\\u0435\\u043D\\u0438\\u044F \\u0434\\u0440\\u0443\\u0433\\u0438\\u0445 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439 \\u0438 \\u0434\\u0435\\u043B\\u0438\\u0442\\u0435\\u0441\\u044C \\u0441\\u0432\\u043E\\u0438\\u043C\\u0438 \\u0432\\u043F\\u0435\\u0447\\u0430\\u0442\\u043B\\u0435\\u043D\\u0438\\u044F\\u043C\\u0438 \\u043E \\u043F\\u0440\\u043E\\u0447\\u0438\\u0442\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043A\\u043D\\u0438\\u0433\\u0430\\u0445\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FiltersContainer, {\n      children: [/*#__PURE__*/_jsxDEV(FilterSelect, {\n        value: sortBy,\n        onChange: e => setSortBy(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"newest\",\n          children: \"\\u0421\\u043D\\u0430\\u0447\\u0430\\u043B\\u0430 \\u043D\\u043E\\u0432\\u044B\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"oldest\",\n          children: \"\\u0421\\u043D\\u0430\\u0447\\u0430\\u043B\\u0430 \\u0441\\u0442\\u0430\\u0440\\u044B\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"rating-high\",\n          children: \"\\u0412\\u044B\\u0441\\u043E\\u043A\\u0438\\u0439 \\u0440\\u0435\\u0439\\u0442\\u0438\\u043D\\u0433\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"rating-low\",\n          children: \"\\u041D\\u0438\\u0437\\u043A\\u0438\\u0439 \\u0440\\u0435\\u0439\\u0442\\u0438\\u043D\\u0433\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"most-liked\",\n          children: \"\\u0411\\u043E\\u043B\\u044C\\u0448\\u0435 \\u0432\\u0441\\u0435\\u0433\\u043E \\u043B\\u0430\\u0439\\u043A\\u043E\\u0432\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FilterSelect, {\n        value: filterByBook,\n        onChange: e => setFilterByBook(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\u0412\\u0441\\u0435 \\u043A\\u043D\\u0438\\u0433\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), getBookOptions()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      mode: \"wait\",\n      children: filteredReviews.length > 0 ? /*#__PURE__*/_jsxDEV(ReviewsGrid, {\n        children: filteredReviews.map((review, index) => /*#__PURE__*/_jsxDEV(ReviewCard, {\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          transition: {\n            delay: index * 0.1,\n            duration: 0.3\n          },\n          children: [/*#__PURE__*/_jsxDEV(ReviewHeader, {\n            children: [/*#__PURE__*/_jsxDEV(UserInfo, {\n              children: [/*#__PURE__*/_jsxDEV(UserAvatar, {\n                children: review.userAvatar\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(UserDetails, {\n                children: [/*#__PURE__*/_jsxDEV(UserName, {\n                  children: review.userName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ReviewDate, {\n                  children: new Date(review.date).toLocaleDateString('ru-RU')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(BookInfo, {\n              children: [/*#__PURE__*/_jsxDEV(BookTitle, {\n                children: review.bookTitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(BookAuthor, {\n                children: review.bookAuthor\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(RatingContainer, {\n            children: [/*#__PURE__*/_jsxDEV(Stars, {\n              children: renderStars(review.rating)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(RatingValue, {\n              children: [review.rating, \"/5\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ReviewText, {\n            children: review.comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ReviewActions, {\n            children: /*#__PURE__*/_jsxDEV(LikeButton, {\n              onClick: () => handleLike(review.id),\n              whileHover: {\n                scale: 1.05\n              },\n              whileTap: {\n                scale: 0.95\n              },\n              children: [/*#__PURE__*/_jsxDEV(FaThumbsUp, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(LikeCount, {\n                children: review.likes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 17\n          }, this)]\n        }, review.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(EmptyState, {\n        children: [/*#__PURE__*/_jsxDEV(EmptyIcon, {\n          children: \"\\uD83D\\uDCAC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(EmptyTitle, {\n          children: \"\\u041E\\u0442\\u0437\\u044B\\u0432\\u043E\\u0432 \\u043F\\u043E\\u043A\\u0430 \\u043D\\u0435\\u0442\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(EmptyText, {\n          children: \"\\u0411\\u0443\\u0434\\u044C\\u0442\\u0435 \\u043F\\u0435\\u0440\\u0432\\u044B\\u043C, \\u043A\\u0442\\u043E \\u043F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u0441\\u044F \\u043C\\u043D\\u0435\\u043D\\u0438\\u0435\\u043C \\u043E \\u043F\\u0440\\u043E\\u0447\\u0438\\u0442\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043A\\u043D\\u0438\\u0433\\u0430\\u0445!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 387,\n    columnNumber: 5\n  }, this);\n};\n_s(Reviews, \"oa/OtJr7QRLLxR1ob2eFsksKeNA=\");\n_c28 = Reviews;\nexport default Reviews;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26, _c27, _c28;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Subtitle\");\n$RefreshReg$(_c5, \"FiltersContainer\");\n$RefreshReg$(_c6, \"FilterSelect\");\n$RefreshReg$(_c7, \"ReviewsGrid\");\n$RefreshReg$(_c8, \"ReviewCard\");\n$RefreshReg$(_c9, \"ReviewHeader\");\n$RefreshReg$(_c0, \"UserInfo\");\n$RefreshReg$(_c1, \"UserAvatar\");\n$RefreshReg$(_c10, \"UserDetails\");\n$RefreshReg$(_c11, \"UserName\");\n$RefreshReg$(_c12, \"ReviewDate\");\n$RefreshReg$(_c13, \"BookInfo\");\n$RefreshReg$(_c14, \"BookTitle\");\n$RefreshReg$(_c15, \"BookAuthor\");\n$RefreshReg$(_c16, \"RatingContainer\");\n$RefreshReg$(_c17, \"Stars\");\n$RefreshReg$(_c18, \"Star\");\n$RefreshReg$(_c19, \"RatingValue\");\n$RefreshReg$(_c20, \"ReviewText\");\n$RefreshReg$(_c21, \"ReviewActions\");\n$RefreshReg$(_c22, \"LikeButton\");\n$RefreshReg$(_c23, \"LikeCount\");\n$RefreshReg$(_c24, \"EmptyState\");\n$RefreshReg$(_c25, \"EmptyIcon\");\n$RefreshReg$(_c26, \"EmptyTitle\");\n$RefreshReg$(_c27, \"EmptyText\");\n$RefreshReg$(_c28, \"Reviews\");","map":{"version":3,"names":["React","useState","useEffect","useContext","styled","motion","AnimatePresence","UserContext","LibraryContext","LoadingSpinner","FiStar","FiThumbsUp","FiMessageSquare","FiFilter","FaStar","FaThumbsUp","toast","jsxDEV","_jsxDEV","Container","div","_c","Header","_c2","Title","h1","props","theme","text","_c3","Subtitle","p","textLight","_c4","FiltersContainer","_c5","FilterSelect","select","border","card","primary","_c6","ReviewsGrid","_c7","ReviewCard","cardShadow","_c8","ReviewHeader","_c9","UserInfo","_c0","UserAvatar","_c1","UserDetails","_c10","UserName","_c11","ReviewDate","_c12","BookInfo","_c13","BookTitle","_c14","BookAuthor","_c15","RatingContainer","_c16","Stars","_c17","Star","filled","_c18","RatingValue","span","accent","_c19","ReviewText","_c20","ReviewActions","_c21","LikeButton","button","backgroundSecondary","_c22","LikeCount","_c23","EmptyState","_c24","EmptyIcon","_c25","EmptyTitle","h3","_c26","EmptyText","_c27","Reviews","_s","user","libraryData","reviews","setReviews","filteredReviews","setFilteredReviews","sortBy","setSortBy","filterByBook","setFilterByBook","isLoading","setIsLoading","mockReviews","id","userId","userName","userAvatar","bookId","bookTitle","bookAuthor","rating","comment","date","likes","loadReviews","storedReviews","localStorage","getItem","parsedReviews","JSON","parse","error","console","setItem","stringify","filtered","filter","review","parseInt","sort","a","b","Date","handleLike","reviewId","updatedReviews","map","success","renderStars","stars","i","push","fileName","_jsxFileName","lineNumber","columnNumber","getBookOptions","books","book","value","children","title","author","onChange","e","target","mode","length","index","initial","opacity","y","animate","transition","delay","duration","toLocaleDateString","onClick","whileHover","scale","whileTap","_c28","$RefreshReg$"],"sources":["C:/Users/kolas/Desktop/knigabel/client/src/pages/Reviews/Reviews.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { UserContext } from '../../context/UserContext';\r\nimport { LibraryContext } from '../../context/LibraryContext';\r\nimport LoadingSpinner from '../../components/UI/LoadingSpinner';\r\nimport { FiStar, FiThumbsUp, FiMessageSquare, FiFilter } from 'react-icons/fi';\r\nimport { FaStar, FaThumbsUp } from 'react-icons/fa';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Container = styled.div`\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 2rem;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  text-align: center;\r\n  margin-bottom: 3rem;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  color: ${props => props.theme.text};\r\n  font-size: 2.5rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst Subtitle = styled.p`\r\n  color: ${props => props.theme.textLight};\r\n  font-size: 1.2rem;\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst FiltersContainer = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  margin-bottom: 2rem;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst FilterSelect = styled.select`\r\n  padding: 0.75rem 1rem;\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-radius: 8px;\r\n  background: ${props => props.theme.card};\r\n  color: ${props => props.theme.text};\r\n  font-size: 0.9rem;\r\n  cursor: pointer;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: ${props => props.theme.primary};\r\n  }\r\n`;\r\n\r\nconst ReviewsGrid = styled.div`\r\n  display: grid;\r\n  gap: 2rem;\r\n`;\r\n\r\nconst ReviewCard = styled(motion.div)`\r\n  background: ${props => props.theme.card};\r\n  border-radius: 12px;\r\n  padding: 1.5rem;\r\n  box-shadow: ${props => props.theme.cardShadow};\r\n  border: 1px solid ${props => props.theme.border};\r\n`;\r\n\r\nconst ReviewHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst UserInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.75rem;\r\n`;\r\n\r\nconst UserAvatar = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  background: ${props => props.theme.primary};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst UserDetails = styled.div``;\r\n\r\nconst UserName = styled.div`\r\n  font-weight: 600;\r\n  color: ${props => props.theme.text};\r\n  margin-bottom: 0.25rem;\r\n`;\r\n\r\nconst ReviewDate = styled.div`\r\n  font-size: 0.8rem;\r\n  color: ${props => props.theme.textLight};\r\n`;\r\n\r\nconst BookInfo = styled.div`\r\n  text-align: right;\r\n`;\r\n\r\nconst BookTitle = styled.div`\r\n  font-weight: 600;\r\n  color: ${props => props.theme.primary};\r\n  margin-bottom: 0.25rem;\r\n`;\r\n\r\nconst BookAuthor = styled.div`\r\n  font-size: 0.9rem;\r\n  color: ${props => props.theme.textLight};\r\n`;\r\n\r\nconst RatingContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst Stars = styled.div`\r\n  display: flex;\r\n  gap: 0.25rem;\r\n`;\r\n\r\nconst Star = styled(FiStar)`\r\n  font-size: 1rem;\r\n  color: ${props => props.filled ? '#FFD700' : props.theme.textLight};\r\n`;\r\n\r\nconst RatingValue = styled.span`\r\n  font-weight: 600;\r\n  color: ${props => props.theme.accent};\r\n`;\r\n\r\nconst ReviewText = styled.p`\r\n  color: ${props => props.theme.text};\r\n  line-height: 1.6;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst ReviewActions = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst LikeButton = styled(motion.button)`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 0.5rem;\r\n  padding: 0.5rem 1rem;\r\n  border: 1px solid ${props => props.theme.border};\r\n  border-radius: 6px;\r\n  background: ${props => props.theme.backgroundSecondary};\r\n  color: ${props => props.theme.text};\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  font-size: 0.9rem;\r\n\r\n  &:hover {\r\n    background: ${props => props.theme.accent};\r\n    transform: translateY(-1px);\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.5;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst LikeCount = styled.span`\r\n  font-weight: 500;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  padding: 4rem 2rem;\r\n  color: ${props => props.theme.textLight};\r\n`;\r\n\r\nconst EmptyIcon = styled.div`\r\n  font-size: 4rem;\r\n  margin-bottom: 1rem;\r\n  opacity: 0.5;\r\n`;\r\n\r\nconst EmptyTitle = styled.h3`\r\n  font-size: 1.5rem;\r\n  margin-bottom: 1rem;\r\n  color: ${props => props.theme.text};\r\n`;\r\n\r\nconst EmptyText = styled.p`\r\n  font-size: 1.1rem;\r\n`;\r\n\r\nconst Reviews = () => {\r\n  const { user } = useContext(UserContext);\r\n  const { libraryData } = useContext(LibraryContext);\r\n  const [reviews, setReviews] = useState([]);\r\n  const [filteredReviews, setFilteredReviews] = useState([]);\r\n  const [sortBy, setSortBy] = useState('newest');\r\n  const [filterByBook, setFilterByBook] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // Mock reviews data - in real app this would come from API\r\n  const mockReviews = [\r\n    {\r\n      id: 1,\r\n      userId: 'user1',\r\n      userName: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞',\r\n      userAvatar: 'üë©‚Äçüéì',\r\n      bookId: 1,\r\n      bookTitle: '–í–æ–π–Ω–∞ –∏ –º–∏—Ä',\r\n      bookAuthor: '–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π',\r\n      rating: 5,\r\n      comment: '–ü–æ—Ç—Ä—è—Å–∞—é—â–µ–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ! –¢–æ–ª—Å—Ç–æ–π –º–∞—Å—Ç–µ—Ä—Å–∫–∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —ç–ø–æ—Ö—É –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∫ –ø—Ä–æ—á—Ç–µ–Ω–∏—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞.',\r\n      date: '2024-12-01',\r\n      likes: 12\r\n    },\r\n    {\r\n      id: 2,\r\n      userId: 'user2',\r\n      userName: '–ú–∏—Ö–∞–∏–ª –°–∏–¥–æ—Ä–æ–≤',\r\n      userAvatar: 'üë®‚Äçüíº',\r\n      bookId: 2,\r\n      bookTitle: '–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ',\r\n      bookAuthor: '–§–µ–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π',\r\n      rating: 4,\r\n      comment: '–û—á–µ–Ω—å –≥–ª—É–±–æ–∫–∏–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ä–æ–º–∞–Ω. –†–∞—Å–∫–æ–ª—å–Ω–∏–∫–æ–≤ - —Å–ª–æ–∂–Ω—ã–π –∏ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂. –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–¥—É–º–∞—Ç—å—Å—è –æ –º–Ω–æ–≥–∏—Ö —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö.',\r\n      date: '2024-11-28',\r\n      likes: 8\r\n    },\r\n    {\r\n      id: 3,\r\n      userId: 'user3',\r\n      userName: '–ï–ª–µ–Ω–∞ –ö–æ–∑–ª–æ–≤–∞',\r\n      userAvatar: 'üë©‚Äçüé®',\r\n      bookId: 3,\r\n      bookTitle: '–ú–∞—Å—Ç–µ—Ä –∏ –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞',\r\n      userAvatar: 'üë©‚Äçüé®',\r\n      rating: 5,\r\n      comment: '–õ—é–±–∏–º–∞—è –∫–Ω–∏–≥–∞! –í–æ–ª–∞–Ω–¥, –ú–∞—Ä–≥–∞—Ä–∏—Ç–∞, –ú–∞—Å—Ç–µ—Ä - –≤—Å–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã. –ë—É–ª–≥–∞–∫–æ–≤ —Å–æ–∑–¥–∞–ª –Ω–∞—Å—Ç–æ—è—â–∏–π —à–µ–¥–µ–≤—Ä —Å–∞—Ç–∏—Ä—ã –∏ —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∏.',\r\n      date: '2024-11-25',\r\n      likes: 15\r\n    },\r\n    {\r\n      id: 4,\r\n      userId: 'user4',\r\n      userName: '–î–º–∏—Ç—Ä–∏–π –ò–≤–∞–Ω–æ–≤',\r\n      userAvatar: 'üë®‚Äçüéì',\r\n      bookId: 4,\r\n      bookTitle: '–ê–Ω–Ω–∞ –ö–∞—Ä–µ–Ω–∏–Ω–∞',\r\n      bookAuthor: '–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π',\r\n      rating: 4,\r\n      comment: '–ò—Å—Ç–æ—Ä–∏—è –ª—é–±–≤–∏ –∏ —Ç—Ä–∞–≥–µ–¥–∏–∏. –ê–Ω–Ω–∞ - —è—Ä–∫–∏–π –∏ —Ç—Ä–∞–≥–∏—á–µ—Å–∫–∏–π –ø–µ—Ä—Å–æ–Ω–∞–∂. –¢–æ–ª—Å—Ç–æ–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–æ—Ä–º—ã –º–æ–≥—É—Ç —Ä–∞–∑—Ä—É—à–∏—Ç—å –∂–∏–∑–Ω—å —á–µ–ª–æ–≤–µ–∫–∞.',\r\n      date: '2024-11-20',\r\n      likes: 6\r\n    },\r\n    {\r\n      id: 5,\r\n      userId: 'user5',\r\n      userName: '–û–ª—å–≥–∞ –°–º–∏—Ä–Ω–æ–≤–∞',\r\n      userAvatar: 'üë©‚Äçüíª',\r\n      bookId: 10,\r\n      bookTitle: '–ì–∞—Ä—Ä–∏ –ü–æ—Ç—Ç–µ—Ä –∏ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π –∫–∞–º–µ–Ω—å',\r\n      bookAuthor: '–î–∂–æ–∞–Ω –†–æ—É–ª–∏–Ω–≥',\r\n      rating: 5,\r\n      comment: '–í–æ–ª—à–µ–±–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è! –î–∞–∂–µ –≤–∑—Ä–æ—Å–ª–æ–º—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —á–∏—Ç–∞—Ç—å. –î–∂–æ–∞–Ω –†–æ—É–ª–∏–Ω–≥ —Å–æ–∑–¥–∞–ª–∞ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–π –º–∏—Ä, –≤ –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—á–µ—Ç—Å—è –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞.',\r\n      date: '2024-11-18',\r\n      likes: 20\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    // Load reviews from localStorage or use mock data\r\n    const loadReviews = () => {\r\n      const storedReviews = localStorage.getItem('globalReviews');\r\n      if (storedReviews) {\r\n        try {\r\n          const parsedReviews = JSON.parse(storedReviews);\r\n          setReviews(parsedReviews);\r\n          setFilteredReviews(parsedReviews);\r\n        } catch (error) {\r\n          console.error('Error loading reviews:', error);\r\n          setReviews(mockReviews);\r\n          setFilteredReviews(mockReviews);\r\n        }\r\n      } else {\r\n        setReviews(mockReviews);\r\n        setFilteredReviews(mockReviews);\r\n        // Save mock reviews to localStorage\r\n        localStorage.setItem('globalReviews', JSON.stringify(mockReviews));\r\n      }\r\n      setIsLoading(false);\r\n    };\r\n\r\n    loadReviews();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let filtered = [...reviews];\r\n\r\n    // Filter by book\r\n    if (filterByBook) {\r\n      filtered = filtered.filter(review => review.bookId === parseInt(filterByBook));\r\n    }\r\n\r\n    // Sort reviews\r\n    switch (sortBy) {\r\n      case 'newest':\r\n        filtered.sort((a, b) => new Date(b.date) - new Date(a.date));\r\n        break;\r\n      case 'oldest':\r\n        filtered.sort((a, b) => new Date(a.date) - new Date(b.date));\r\n        break;\r\n      case 'rating-high':\r\n        filtered.sort((a, b) => b.rating - a.rating);\r\n        break;\r\n      case 'rating-low':\r\n        filtered.sort((a, b) => a.rating - b.rating);\r\n        break;\r\n      case 'most-liked':\r\n        filtered.sort((a, b) => b.likes - a.likes);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    setFilteredReviews(filtered);\r\n  }, [reviews, sortBy, filterByBook]);\r\n\r\n  const handleLike = (reviewId) => {\r\n    if (!user) {\r\n      toast.error('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É');\r\n      return;\r\n    }\r\n\r\n    const updatedReviews = reviews.map(review => {\r\n      if (review.id === reviewId) {\r\n        return { ...review, likes: review.likes + 1 };\r\n      }\r\n      return review;\r\n    });\r\n\r\n    setReviews(updatedReviews);\r\n    localStorage.setItem('globalReviews', JSON.stringify(updatedReviews));\r\n    toast.success('–õ–∞–π–∫ –¥–æ–±–∞–≤–ª–µ–Ω!');\r\n  };\r\n\r\n  const renderStars = (rating) => {\r\n    const stars = [];\r\n    for (let i = 1; i <= 5; i++) {\r\n      stars.push(\r\n        <Star key={i} filled={i <= rating} />\r\n      );\r\n    }\r\n    return stars;\r\n  };\r\n\r\n  const getBookOptions = () => {\r\n    if (!libraryData?.books) return [];\r\n    return libraryData.books.map(book => (\r\n      <option key={book.id} value={book.id}>\r\n        {book.title} - {book.author}\r\n      </option>\r\n    ));\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <LoadingSpinner text=\"–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–∑—ã–≤–æ–≤...\" />;\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        <Title>üí¨ –û—Ç–∑—ã–≤—ã —á–∏—Ç–∞—Ç–µ–ª–µ–π</Title>\r\n        <Subtitle>\r\n          –ß–∏—Ç–∞–π—Ç–µ –º–Ω–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è–º–∏ –æ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –∫–Ω–∏–≥–∞—Ö\r\n        </Subtitle>\r\n      </Header>\r\n\r\n      <FiltersContainer>\r\n        <FilterSelect value={sortBy} onChange={(e) => setSortBy(e.target.value)}>\r\n          <option value=\"newest\">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>\r\n          <option value=\"oldest\">–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>\r\n          <option value=\"rating-high\">–í—ã—Å–æ–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥</option>\r\n          <option value=\"rating-low\">–ù–∏–∑–∫–∏–π —Ä–µ–π—Ç–∏–Ω–≥</option>\r\n          <option value=\"most-liked\">–ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ –ª–∞–π–∫–æ–≤</option>\r\n        </FilterSelect>\r\n\r\n        <FilterSelect value={filterByBook} onChange={(e) => setFilterByBook(e.target.value)}>\r\n          <option value=\"\">–í—Å–µ –∫–Ω–∏–≥–∏</option>\r\n          {getBookOptions()}\r\n        </FilterSelect>\r\n      </FiltersContainer>\r\n\r\n      <AnimatePresence mode=\"wait\">\r\n        {filteredReviews.length > 0 ? (\r\n          <ReviewsGrid>\r\n            {filteredReviews.map((review, index) => (\r\n              <ReviewCard\r\n                key={review.id}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: index * 0.1, duration: 0.3 }}\r\n              >\r\n                <ReviewHeader>\r\n                  <UserInfo>\r\n                    <UserAvatar>{review.userAvatar}</UserAvatar>\r\n                    <UserDetails>\r\n                      <UserName>{review.userName}</UserName>\r\n                      <ReviewDate>{new Date(review.date).toLocaleDateString('ru-RU')}</ReviewDate>\r\n                    </UserDetails>\r\n                  </UserInfo>\r\n                  <BookInfo>\r\n                    <BookTitle>{review.bookTitle}</BookTitle>\r\n                    <BookAuthor>{review.bookAuthor}</BookAuthor>\r\n                  </BookInfo>\r\n                </ReviewHeader>\r\n\r\n                <RatingContainer>\r\n                  <Stars>\r\n                    {renderStars(review.rating)}\r\n                  </Stars>\r\n                  <RatingValue>{review.rating}/5</RatingValue>\r\n                </RatingContainer>\r\n\r\n                <ReviewText>{review.comment}</ReviewText>\r\n\r\n                <ReviewActions>\r\n                  <LikeButton\r\n                    onClick={() => handleLike(review.id)}\r\n                    whileHover={{ scale: 1.05 }}\r\n                    whileTap={{ scale: 0.95 }}\r\n                  >\r\n                    <FaThumbsUp />\r\n                    <LikeCount>{review.likes}</LikeCount>\r\n                  </LikeButton>\r\n                </ReviewActions>\r\n              </ReviewCard>\r\n            ))}\r\n          </ReviewsGrid>\r\n        ) : (\r\n          <EmptyState>\r\n            <EmptyIcon>üí¨</EmptyIcon>\r\n            <EmptyTitle>–û—Ç–∑—ã–≤–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</EmptyTitle>\r\n            <EmptyText>\r\n              –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º, –∫—Ç–æ –ø–æ–¥–µ–ª–∏—Ç—Å—è –º–Ω–µ–Ω–∏–µ–º –æ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –∫–Ω–∏–≥–∞—Ö!\r\n            </EmptyText>\r\n          </EmptyState>\r\n        )}\r\n      </AnimatePresence>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Reviews;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}